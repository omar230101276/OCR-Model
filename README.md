# نظام OCR لاستخراج مواصفات الكابلات

نظام ذكي لاستخراج البيانات من جداول ومواصفات الكابلات (Electrical Cables)، يدعم اللغة العربية والإنجليزية، وقادر على التعامل مع الصور الممسوحة ضوئياً والمكتوبة بخط اليد.

## المميزات
- **دعم مزدوج اللغة**: عربي وإنجليزي.
- **استخراج الجداول**: تحويل صور الجداول إلى ملفات CSV/Excel.
- **استخراج المواصفات**: التعرف الذكي على (الجهد، نوع الموصل، العزل، التسليح).
- **قابل للتدريب**: بنية جاهزة لتحسين النموذج على خط يدك الخاص.

## المتطلبات
- Python 3.8+
- بطاقة رسوميات NVIDIA (يفضل لدعم CUDA)
- مكتبات: `easyocr`, `torch`, `opencv-python`, `pandas`

## التثبيت
1. قم بتثبيت المكتبات:
   ```bash
   pip install -r requirements.txt
   ```
   *(ملاحظة: تأكد من تثبيت PyTorch المناسب لجهازك أولاً)*

## الاستخدام

### 1. استخراج نصوص ومواصفات عامة
لقراءة صورة تحتوي على وصف كابل:
```bash
python main.py --image "data/raw/spec_sample.jpg" --mode text
```
سيقوم النظام بطباعة النص الكامل والمواصفات المستخرجة (مثل الجهد: 600/1000V).

### 2. استخراج جدول
لقراءة صورة تحتوي على جدول بيانات وتصديره إلى Excel/CSV:
```bash
python main.py --image "data/raw/table_sample.jpg" --mode table --output "results.csv"
```

## هيكل المشروع
- `data/`: مجلد البيانات (الصور الخام، البيانات المعالجة).
- `src/`: الكود المصدري.
    - `core_ocr.py`: إعدادات المحرك.
    - `table_engine.py`: خوارزميات معالجة الجداول.
    - `extraction.py`: استخراج البيانات باستخدام Regex.
- `main.py`: ملف التشغيل الرئيسي.

## التدريب (Fine-tuning)
لتحسين دقة النموذج على خط يد معين:
1. ضع صور قصاصات الكلمات في `data/training/images`.
2. قم بإنشاء ملف CSV يربط اسم الصورة بالنص: `filename,text`.
3. استخدم السكريبت `src/train_model.py` لتجهيز البيانات.
4. استخدم أدوات تدريب EasyOCR الخارجية لإنشاء ملف `.pth` جديد وضعه في مجلد النماذج.
